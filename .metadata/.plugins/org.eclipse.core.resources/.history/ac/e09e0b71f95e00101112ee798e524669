<%@ page contentType="text/html;charset=UTF-8" language="java" %>
<%@page import="com.example.FIT_STORE.model.*"%>
<%@ page import="java.util.*" %>
<html>
<head>
    <title>Goals - FitStore</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>
    <style>
        body {
            background: #f9f9f9;
        }

        .goal-box {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            padding: 20px;
            margin-bottom: 15px;
        }

        .goal-description {
            font-weight: bold;
        }

        .section-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .form-control:focus {
            box-shadow: none;
            border-color: #0d6efd;
        }

        .form-section {
            background-color: #ffffff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .check-icon {
            color: green;
            margin-left: 5px;
        }
        .goal-form input, .goal-form select {
            width: 100%;
            padding: 12px;
            margin: 10px 0;
            border: 1px solid #ccc;
            border-radius: 6px;
        }

        .goal-form button {
            width: 100%;
            padding: 12px;
            background: #38b000;
            color: white;
            font-weight: bold;
            border: none;
            border-radius: 6px;
            cursor: pointer;
        }

        .goal-form button:hover {
            background: #2a8700;
        }

        .goal-list {
            margin-top: 30px;
        }

        .goal-item {
            background: #f0f0f0;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
        }

        .goal-item h4 {
            margin: 0;
            color: #333;
        }

        .goal-item p {
            margin: 5px 0 0;
        }

        /* Footer */
        footer {
            background-color: #16333f;
            color: #fff;
            text-align: center;
            padding: 15px;
            font-size: 15px;
        }
    </style>
</head>
<body>
<jsp:include page="header.jsp" />
<div class="container py-5">
    <h2 class="text-center mb-4">Goal</h2>

    <div class="row">
        <!-- Post New Goal -->
        <div class="col-md-5">
            <div class="form-section">
                <div class="section-title">Post New Goal</div>
                 <form action="addgoal" class="goal-form" method="post">
                    <div class="mb-3">
                        <label for="goalType">Goal Type</label>
            <select id="goalType" name="goalType">
                <option value="weight">Lose Weight</option>
                <option value="muscle">Gain Muscle</option>
                <option value="workouts">Workout Frequency</option>
                <option value="distance">Run Distance</option>
            </select>
                    </div>
                    <div class="mb-3">
                        <label for="goalValue">Target</label>
            <input type="text" id="goalValue" name="goalValue" placeholder="e.g. 5kg, 3 workouts/week">

                    </div>
                    <div class="mb-3">
                        <label for="goalDeadline">Deadline</label>
            <input type="date" id="goalDeadline" name="goalDeadline">
                    </div>
                    <button type="submit" class="btn btn-primary w-100">Post Goal</button>
                </form>
            </div>
        </div>

        <!-- Past Goals -->
        <div class="col-md-7">
            <div class="section-title">Past Goals</div>
              <h4>Nutrition History</h4>
        <table class="table table-striped mt-3">
            <thead class="table-dark">
            <tr>
                
                <th>Goal Type</th>
                <th>Target</th>
                <th>Deadline</th>
                
                
                <th>Actions</th>
            </tr>
            </thead>
            <tbody>
            <!-- Example Static Rows -->
             <%
           Goals nt= new Goals();
           List<Goals> Nut =( List<Goals>)request.getAttribute("nut_item");
                    		if(Nut!=null && !Nut.isEmpty()){
                    			for(Goals no:Nut)
                    			{
                    		
           %>
          
            <tr>
            
            <td><%=no.getType() %></td>
             
             <td><%=no.getTarget() %></td>
             <td><%=no.getDeadline() %></td>
            
            
            
             
             
             
             &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
             
            <td> <a class="btn btn-danger btn-sm"
             id=<%=no.getId() %>
             href="deleteNut?id=<%=no.getId()%>"
                onclick="return confirm('Are you sure?')">
              
               <ion-icon name="trash-outline"></ion-icon>
               </a></td>
            
             </tr>
             
             
             <% 
                    			}
                    		}
                    		else{
                  %>
                    	<% 	}%>
            </tbody>
        </table>

            <!-- Example Goal Card -->
            <div class="goal-box">
                <div class="goal-description">Description: <span class="fw-semibold">Run a 5K in under 30 minutes.</span></div>
                <div>Start date: <strong>Jun 19, 2024</strong> | End date: <strong>Jun 22, 2024</strong> | Achieved: <span class="text-danger">false</span> ✅</div>
            </div>

            <div class="goal-box">
                <div class="goal-description">Description: <span class="fw-semibold">Gain 5 pounds of muscle</span></div>
                <div>Start date: <strong>Jun 18, 2024</strong> | End date: <strong>Jun 28, 2024</strong> | Achieved: <span class="text-success">true</span> ✅</div>
            </div>

            <!-- Use JSTL forEach here to loop over goals dynamically -->
            <%-- Example:
            <c:forEach var="goal" items="${goalList}">
                ...
            </c:forEach>
            --%>
        </div>
    </div>
</div>

 <footer>
        © 2025 FitStore. All rights reserved.
    </footer>

</body>
</html>
